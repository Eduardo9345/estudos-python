{
    "sourceFile": "18-banco_de_dados/projeto/dados_compras.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 14,
            "patches": [
                {
                    "date": 1758044894618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1758045283658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,3 +1,36 @@\n import sqlite3\r\n \r\n-conexao = sqlite3.connect(\"18-banco_de_dados/projeto/dados.db\")\n\\ No newline at end of file\n+def conectar():\r\n+    conexao = sqlite3.connect(\"18-banco_de_dados/projeto/dados.db\")\r\n+    return conexao\r\n+\r\n+def criar_tabela():\r\n+    conexao = conectar()\r\n+    cursor = conexao.cursor()\r\n+    \r\n+    cursor.execute(\r\n+        \"\"\"\r\n+        CREATE TABLE produtos(\r\n+            id INTEGER PRIMARY KEY,\r\n+            nome TEXT NOT NULL,\r\n+            preco REAL NOT NULL,\r\n+            quantidade INTEGER NOT NULL\r\n+        );\r\n+        \"\"\"\r\n+    )\r\n+    conexao.close()\r\n+\r\n+def insere_produto(nome, preco, quantidade=0):\r\n+    conexao = conectar()\r\n+    cursor = conexao.cursor()\r\n+    \r\n+    cursor.execute(\r\n+        \"\"\"\r\n+        INSERT INTO produtos(nome, preco, quantidade)\r\n+        VALUES (?, ?, ?)\r\n+        \"\"\", (nome, preco, quantidade)\r\n+    )\r\n+    \r\n+    conexao.commit()\r\n+    conexao.close()\r\n+\r\n"
                },
                {
                    "date": 1758045390695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,11 +26,21 @@\n     \r\n     cursor.execute(\r\n         \"\"\"\r\n         INSERT INTO produtos(nome, preco, quantidade)\r\n-        VALUES (?, ?, ?)\r\n+        VALUES (?, ?, ?);\r\n         \"\"\", (nome, preco, quantidade)\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n \r\n+def obter_produtos():\r\n+    conexao = conectar()\r\n+    cursor = conexao.cursor()\r\n+    \r\n+    produtos = cursor.execute(\r\n+        \"SELECT * FROM produtos;\"\r\n+    )\r\n+    \r\n+    return produtos.fetchall()\r\n+\r\n"
                },
                {
                    "date": 1758046050602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import sqlite3\r\n \r\n def conectar():\r\n-    conexao = sqlite3.connect(\"18-banco_de_dados/projeto/dados.db\")\r\n+    conexao = sqlite3.connect(\"./dados.db\")\r\n     return conexao\r\n \r\n def criar_tabela():\r\n     conexao = conectar()\r\n"
                },
                {
                    "date": 1758046391272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,4 +43,17 @@\n     )\r\n     \r\n     return produtos.fetchall()\r\n \r\n+def deletar(id):\r\n+    conexao = conectar()\r\n+    cursor = conexao.cursor()\r\n+    \r\n+    cursor.execute(\r\n+        \"DELETE FROM produtos WHERE id in (?);\",\r\n+        (id)\r\n+    )\r\n+    \r\n+    conexao.commit()\r\n+    conexao.close()\r\n+    \r\n+    \r\n"
                },
                {
                    "date": 1758046460718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,10 +48,11 @@\n     conexao = conectar()\r\n     cursor = conexao.cursor()\r\n     \r\n     cursor.execute(\r\n-        \"DELETE FROM produtos WHERE id in (?);\",\r\n-        (id)\r\n+        \"\"\"DELETE FROM produtos \r\n+        WHERE id in (?);\"\"\",\r\n+        id\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046524987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     cursor = conexao.cursor()\r\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n-        WHERE id in (?);\"\"\",\r\n+        WHERE id == ?\"\"\",\r\n         id\r\n     )\r\n     \r\n     conexao.commit()\r\n"
                },
                {
                    "date": 1758046531594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     cursor = conexao.cursor()\r\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n-        WHERE id == ?\"\"\",\r\n+        WHERE id = ?\"\"\",\r\n         id\r\n     )\r\n     \r\n     conexao.commit()\r\n"
                },
                {
                    "date": 1758046563586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,10 +49,10 @@\n     cursor = conexao.cursor()\r\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n-        WHERE id = ?\"\"\",\r\n-        id\r\n+        WHERE id == ?\"\"\",\r\n+        str(id)\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046586375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n         WHERE id == ?\"\"\",\r\n-        str(id)\r\n+        int(id)\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046607169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n         WHERE id == ?\"\"\",\r\n-        int(id)\r\n+        str(int(id))\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046628578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n         WHERE id == ?\"\"\",\r\n-        str(int(id))\r\n+        id\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046680936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n         WHERE id == ?\"\"\",\r\n-        id\r\n+        int(id)\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                },
                {
                    "date": 1758046700667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     cursor = conexao.cursor()\r\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n-        WHERE id == ?\"\"\",\r\n+        WHERE id in (?)\"\"\",\r\n         int(id)\r\n     )\r\n     \r\n     conexao.commit()\r\n"
                },
                {
                    "date": 1758046718506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n     \r\n     cursor.execute(\r\n         \"\"\"DELETE FROM produtos \r\n         WHERE id in (?)\"\"\",\r\n-        int(id)\r\n+        str(int(id))\r\n     )\r\n     \r\n     conexao.commit()\r\n     conexao.close()\r\n"
                }
            ],
            "date": 1758044894617,
            "name": "Commit-0",
            "content": "import sqlite3\r\n\r\nconexao = sqlite3.connect(\"18-banco_de_dados/projeto/dados.db\")"
        }
    ]
}